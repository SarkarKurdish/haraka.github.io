[{"_path":"/plugins/queue/smtp_proxy","_dir":"queue","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"queue/smtp_proxy - Deliver mail to the proxy MTA","description":"Haraka queue/smtp_proxy plugin - Deliver mail to the proxy MTA","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"queuesmtp_proxy-plugin"},"children":[{"type":"text","value":"queue/smtp_proxy plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin delivers to another mail server. This is a common setup when you\nwant to have a mail server with a solid pedigree of outbound delivery to\nother hosts, and inbound delivery to users."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In comparison to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"queue/smtp_forward"}]},{"type":"text","value":", this plugin makes a connection at\nMAIL FROM time to the ongoing SMTP server. This can be a benefit in that\nyou get any SMTP-time filtering that the ongoing server provides, in\nparticular one important facility to some setups is recipient filtering.\nHowever be aware that other than connect and HELO-time filtering, you will\nhave as many connections to your ongoing SMTP server as you have to Haraka."}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"smtp_proxy.ini"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Configuration is stored in this file in the following keys:"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"enable_outbound="},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"true"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"SMTP proxy outbound messages (set to false to enable Haraka's\nseparate Outbound mail routing (MX based delivery))."},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"host=HOST"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The host to connect to."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"port=PORT"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The port to connect to."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"connect_timeout=SECONDS"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The maximum amount of time to wait when creating a new connection\nto the host.  Default if unspecified is 30 seconds."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"timeout=SECONDS"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The amount of seconds to let a backend connection live idle in the\nproxy pool.  This should always be less than the global plugin timeout,\nwhich should in turn be less than the connection timeout."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"max_connections=NUMBER"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Maximum number of connections to create at any given time."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"enable_tls="},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"true|yes|1"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Enable TLS with the forward host (if supported). TLS uses options from\nthe tls plugin."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"auth_type="},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plain|login"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Enable PLAIN or LOGIN SMTP AUTH.  This is required to enable AUTH."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"auth_user=USERNAME"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"SMTP AUTH username to use."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"auth_pass=PASSWORD"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"SMTP AUTH password to use."}]}]}]}]}]},"navigation":{"title":"queue/smtp_proxy"},"_type":"markdown","_id":"content:8.plugins:queue:smtp_proxy.md","_source":"content","_file":"8.plugins/queue/smtp_proxy.md","_extension":"md"},{"_path":"/plugins/rcpt_to.access","_dir":"plugins","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"rcpt_to.access - Access control for RCPT TO plugin for Haraka","description":"Haraka rcpt_to.access plugin - Access control for RCPT TO","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"rcpt_toaccess-plugin"},"children":[{"type":"text","value":"rcpt_to.access plugin"}]},{"type":"element","tag":"h2","props":{"id":"deprecation-notice"},"children":[{"type":"text","value":"DEPRECATION NOTICE"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the "},{"type":"element","tag":"a","props":{"href":"http://haraka.github.io/plugins/access","rel":["nofollow"]},"children":[{"type":"text","value":"access"}]},{"type":"text","value":" plugin for upgrade instructions."}]},{"type":"element","tag":"h1","props":{"id":"rcpt_toaccess"},"children":[{"type":"text","value":"rcpt_to.access"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin blocks RCPT_TO addresses in a list or regex.\nThis plugin will evaluate the RCPT_TO address against a set of white and black\nlists.  The lists are applied in the following way:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"rcpt_to.access.whitelist          (pass)\nrcpt_to.access.whitelist_regex   (pass)\nrcpt_to.access.blacklist          (block)\nrcpt_to.access.blacklist_regex   (block)"}]},{"type":"element","tag":"h2","props":{"id":"configuration-rcpt_toaccessini"},"children":[{"type":"text","value":"Configuration rcpt_to.access.ini"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"General configuration file for this plugin."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"rcpt_to.access.general.deny_msg"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Text to send the user on reject (text)."}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-rcpt_toaccesswhitelist"},"children":[{"type":"text","value":"Configuration rcpt_to.access.whitelist"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The whitelist is mostly to counter blacklist entries that match more than\nwhat one would want.  This file should be used for a specific address\none per line, that should bypass blacklist checks.\nNOTE: We heavily suggest tailoring blacklist entries to be as accurate as\npossible and never using whitelists.  Nevertheless, if you need whitelists,\nhere they are."}]},{"type":"element","tag":"h2","props":{"id":"configuration-rcpt_toaccesswhitelist_regex"},"children":[{"type":"text","value":"Configuration rcpt_to.access.whitelist_regex"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Does the same thing as the whitelist file, but each line is a regex.\nEach line is also anchored for you, meaning '^' + regex + '$' is added for\nyou.  If you need to get around this restriction, you may use a '.*' at\neither the start or the end of your regex.  This should help prevent people\nfrom writing overly permissive rules on accident."}]},{"type":"element","tag":"h2","props":{"id":"configuration-rcpt_toaccessblacklist"},"children":[{"type":"text","value":"Configuration rcpt_to.access.blacklist"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This file should be used for a specific address, one per line, that should\nfail on connect."}]},{"type":"element","tag":"h2","props":{"id":"configuration-rcpt_toaccessblacklist_regex"},"children":[{"type":"text","value":"Configuration rcpt_to.access.blacklist_regex"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Does the same thing as the blacklist file, but each line is a regex.\nEach line is also anchored for you, meaning '^' + regex + '$' is added for\nyou.  If you need to get around this restriction, you may use a '.*' at\neither the start or the end of your regex.  This should help prevent people\nfrom writing overly permissive rules on accident."}]}]},"navigation":{"title":"rcpt_to.access"},"_type":"markdown","_id":"content:8.plugins:rcpt_to.access.md","_source":"content","_file":"8.plugins/rcpt_to.access.md","_extension":"md"}]