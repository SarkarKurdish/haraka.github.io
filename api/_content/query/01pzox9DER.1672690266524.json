[{"_path":"/plugins/relay_force_routing","_dir":"plugins","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"relay_force_routing.js - Force routing of mail to a specific host","description":"Haraka relay_force_routing plugin - Force routing of mail to a specific host","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"relay_force_routing-plugin"},"children":[{"type":"text","value":"relay_force_routing plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin allows you to force the next hop for the configured domains.\nIt works a lot like the transport map of Postfix."}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"config/relay_dest_domains.ini"}]},{"type":"text","value":"\nThis config file is shared with relay_acl.js, for the basics see the\ndocumentation provided by plugins/relay_acl.js."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"relay_force_routing.js adds the field \"nexthop\": in the JSON value\nof the domain. The value of \"nexthop\": can be hostname or IP optionally\nfollow by "},{"type":"element","tag":"port","props":{},"children":[]},{"type":"text","value":"."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Example:"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"domains"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\ntest.com = { \"action\": \"continue\", \"nexthop\": \"127.0.0.1:2525\" }"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"You can also define a default relay using the \"any\" domain, which will be\nused if the message's destination domain doesn't match any of the domains\nalready defined."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Example:"}]}]},{"type":"element","tag":"code","props":{"code":"        [domains]  \n        test.com = { \"action\": \"continue\", \"nexthop\": \"127.0.0.1:2525\" }\n        my.test.com = { \"action\": \"continue\", \"nexthop\": \"127.0.0.1:2527\" }\n        any = { \"action\": \"continue\", \"nexthop\": \"10.10.10.1:2525\"}\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"        [domains]  \n        test.com = { \"action\": \"continue\", \"nexthop\": \"127.0.0.1:2525\" }\n        my.test.com = { \"action\": \"continue\", \"nexthop\": \"127.0.0.1:2527\" }\n        any = { \"action\": \"continue\", \"nexthop\": \"10.10.10.1:2525\"}\n"}]}]}]}]},"navigation":{"title":"relay_force_routing"},"_type":"markdown","_id":"content:8.plugins:relay_force_routing.md","_source":"content","_file":"8.plugins/relay_force_routing.md","_extension":"md"},{"_path":"/plugins/reseed_rng","_dir":"plugins","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"reseed_rng - Reseed the random number generator","description":"Haraka reseed_rng plugin - Reseed the random number generator","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"reseed-rng-plugin"},"children":[{"type":"text","value":"Reseed RNG plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The V8 that ships with node 0.4.x uses an unsophisticated method of\nseeding its random number generator- it simply uses the current time\nin ms.  Worse, that version of V8 (at least) doesn't provide a way\nto explicitly reseed the RNG."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In situations where multiple processes can spawn in the same\nms, processes can be seeded with the same value, leading to bad\nproblems like UUID collisions. When using the 'cluster' module, it's\nquite easy to observe this behavior."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin uses David Bao's reseed.js (see "},{"type":"element","tag":"a","props":{"href":"http://davidbau.com/archives/2010/01/30/random_seeds_coded_hints_and_quintillions.html","rel":["nofollow"]},"children":[{"type":"text","value":"http://davidbau.com/archives/2010/01/30/random_seeds_coded_hints_and_quintillions.html"}]},{"type":"text","value":")\nto provide a reseedable Math.random(), and hooks the init_child event\nto reseed the RNG with a sligtly better seed at spawned-process startup\ntime."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All users of the 'cluster' module should consider using this plugin."}]}]},"navigation":{"title":"reseed_rng"},"_type":"markdown","_id":"content:8.plugins:reseed_rng.md","_source":"content","_file":"8.plugins/reseed_rng.md","_extension":"md"}]