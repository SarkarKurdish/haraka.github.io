[{"_path":"/plugins/process_title","_dir":"plugins","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"process_title - Process title plugin for Haraka","description":"Haraka process_title plugin - Set the process title","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"process_title-plugin"},"children":[{"type":"text","value":"process_title plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin causes the process title seen by the UNIX 'ps' command to\nbe modified from this:"}]},{"type":"element","tag":"code","props":{"code":"node haraka.js -c /etc/haraka\n","language":"sh"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"node haraka.js -c /etc/haraka\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"to this:"}]},{"type":"element","tag":"code","props":{"code":"Haraka (master) cn=11148 cc=1082 cps=21/25.24/79 rcpts=144950/1.84 rps=518/328.18/586 msgs=78815/7.07 mps=302/178.44/329 out=0/0/0 respawn=0 \n \\_ Haraka (worker) cn=1646 cc=140 cps=5/3.73/17 rcpts=20310/1.86 rps=75/46.04/102 msgs=10938/6.65 mps=42/24.8/56 out=0/0/0 \n \\_ Haraka (worker) cn=1563 cc=168 cps=3/3.54/18 rcpts=19844/1.87 rps=78/45/96 msgs=10627/6.8 mps=49/24.1/53 out=0/0/0 \n \\_ Haraka (worker) cn=1852 cc=172 cps=3/4.2/16 rcpts=26278/2.03 rps=93/59.56/114 msgs=12938/6.99 mps=40/29.33/65 out=0/0/0 \n \\_ Haraka (worker) cn=1704 cc=187 cps=5/3.86/14 rcpts=23688/1.84 rps=93/53.7/125 msgs=12886/7.56 mps=64/29.21/66 out=0/0/0 \n \\_ Haraka (worker) cn=2296 cc=218 cps=2/5.2/20 rcpts=29300/1.78 rps=117/66.4/125 msgs=16489/7.18 mps=40/37.37/66 out=0/0/0 \n \\_ Haraka (worker) cn=2091 cc=195 cps=4/4.74/16 rcpts=25646/1.71 rps=84/58.12/117 msgs=14982/7.16 mps=52/33.95/66 out=0/0/0 \n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Haraka (master) cn=11148 cc=1082 cps=21/25.24/79 rcpts=144950/1.84 rps=518/328.18/586 msgs=78815/7.07 mps=302/178.44/329 out=0/0/0 respawn=0 \n \\_ Haraka (worker) cn=1646 cc=140 cps=5/3.73/17 rcpts=20310/1.86 rps=75/46.04/102 msgs=10938/6.65 mps=42/24.8/56 out=0/0/0 \n \\_ Haraka (worker) cn=1563 cc=168 cps=3/3.54/18 rcpts=19844/1.87 rps=78/45/96 msgs=10627/6.8 mps=49/24.1/53 out=0/0/0 \n \\_ Haraka (worker) cn=1852 cc=172 cps=3/4.2/16 rcpts=26278/2.03 rps=93/59.56/114 msgs=12938/6.99 mps=40/29.33/65 out=0/0/0 \n \\_ Haraka (worker) cn=1704 cc=187 cps=5/3.86/14 rcpts=23688/1.84 rps=93/53.7/125 msgs=12886/7.56 mps=64/29.21/66 out=0/0/0 \n \\_ Haraka (worker) cn=2296 cc=218 cps=2/5.2/20 rcpts=29300/1.78 rps=117/66.4/125 msgs=16489/7.18 mps=40/37.37/66 out=0/0/0 \n \\_ Haraka (worker) cn=2091 cc=195 cps=4/4.74/16 rcpts=25646/1.71 rps=84/58.12/117 msgs=14982/7.16 mps=52/33.95/66 out=0/0/0 \n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"where:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"cn = Total number of connections"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"cc = Total number of concurrent connections"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"cps = Number of connections in the last second / average / maximum"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"rcpts = Total number of recipients / Average number of recipients per message"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"rps = Number of recipients in the last second / average / maximum"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"msgs = Total number of messages / Average number messages per connection"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"mps = Number of messages in the last second / average / maximum"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"out = Mails being processed / Mails waiting to be processed / Mails in temp fail state"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"respawn = Number of worker processes respawned (only under cluster)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If 'cluster' is used then the master process will show the total\nacross all workers, with the exception of outbound stats."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All of the counts shown are since the process started, so if a\nworker has been re-started then the counts may not add up."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note: this plugin will only work on node >= 0.8 and should be\nadded at the top of config/plugins to ensure that it functions\ncorrectly."}]}]},"navigation":{"title":"process_title"},"_type":"markdown","_id":"content:8.plugins:process_title.md","_source":"content","_file":"8.plugins/process_title.md","_extension":"md"},{"_path":"/plugins/queue/discard","_dir":"queue","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"discard - Discard mail","description":"Haraka discard plugin - Discard mail","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"discard-plugin"},"children":[{"type":"text","value":"discard plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin will discard a message by pretending that the message was queued."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is designed to be used by other plugins which request the message be\ndiscard by setting a connection or transaction note that this plugin\nchecks."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It uses the 'queue' hook, so it runs after all the plugins that hook on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"data_post"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you use the 'quarantine' plug-in then this plugin should run "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"after"}]},{"type":"text","value":" it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"USE THIS PLUGIN WITH CARE!"}]},{"type":"element","tag":"h1","props":{"id":"enable"},"children":[{"type":"text","value":"Enable"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Enable by adding a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"queue/discard"}]},{"type":"text","value":" entry in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"config/plugins"}]},{"type":"text","value":" "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"before"}]},{"type":"text","value":" your\nother queue plugins that perform actual deliveries."}]},{"type":"element","tag":"h1","props":{"id":"usage"},"children":[{"type":"text","value":"Usage"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Set"}]},{"type":"element","tag":"code","props":{"code":"connection.notes.discard = [ 1 | true ];\n","language":"javascript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"connection.notes.discard = [ 1 | true ];\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"or"}]},{"type":"element","tag":"code","props":{"code":"connection.transaction.notes.discard = [ 1 | true ];\n","language":"javascript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"connection.transaction.notes.discard = [ 1 | true ];\n"}]}]}]}]},"navigation":{"title":"discard"},"_type":"markdown","_id":"content:8.plugins:queue:discard.md","_source":"content","_file":"8.plugins/queue/discard.md","_extension":"md"}]