{"_path":"/plugins/bounce","_dir":"plugins","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"bounce - Bounce plugin for Haraka","description":"Haraka bounce plugin - Bounces mail to a specific address","navigation":{"title":"bounce"},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"bounce-plugin"},"children":[{"type":"text","value":"Bounce plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Provide options for bounce processing."}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each feature can be enabled/disabled with a true/false toggle in the "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"check"}]},{"type":"text","value":"\nsection of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"config/bounce.ini"}]},{"type":"text","value":":"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some features can have rejections disabled in the "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"reject"}]},{"type":"text","value":" section."}]},{"type":"element","tag":"code","props":{"className":["language-ini"],"code":"[check]\nreject_all=false\nsingle_recipient=true\nempty_return_path=true\nbad_rcpt=true\nbounce_spf=true\nnon_local_msgid=true\n\n[reject]\nsingle_recipient=true\nempty_return_path=true\nbounce_spf=false\nnon_local_msgid=false\n","language":"ini","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"[check]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"reject_all"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=false\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"single_recipient"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"empty_return_path"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"bad_rcpt"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"bounce_spf"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"non_local_msgid"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"[reject]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"single_recipient"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"empty_return_path"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"bounce_spf"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=false\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"non_local_msgid"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"=false"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"features"},"children":[{"type":"text","value":"Features"}]},{"type":"element","tag":"h3","props":{"id":"reject_all"},"children":[{"type":"text","value":"reject_all"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When enabled, blocks all bounce messages using the simple rule of checking\nfor "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MAIL FROM:<>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is generally a bad idea to block all bounces. This option can be useful\nfor mail servers at domains with frequent spoofing and few or no human users."}]},{"type":"element","tag":"h3","props":{"id":"single_recipient"},"children":[{"type":"text","value":"single_recipient"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Valid bounces have a single recipient. Assure that the message really is a\nbounce by enforcing bounces to be addressed to a single recipient."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This check is skipped for relays or hosts with a private IP, this is because\nMicrosoft Exchange distribution lists will send messages to list members with\na null return-path when the 'Do not send delivery reports' option is enabled\n(yes, really...)."}]},{"type":"element","tag":"h3","props":{"id":"empty_return_path"},"children":[{"type":"text","value":"empty_return_path"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Valid bounces should have an empty return path. Test for the presence of the\nReturn-Path header in bounces and disallow."}]},{"type":"element","tag":"h3","props":{"id":"bad_rcpt"},"children":[{"type":"text","value":"bad_rcpt"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Disallow bounces to email addresses listed in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"config/bounce_bad_rcpt"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Include email addresses in that file that should "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"never"}]},{"type":"text","value":" receive bounce\nmessages. Examples of email addresses that should be listed are:\nautoresponders, "},{"type":"element","tag":"a","props":{"href":"mailto:do-not-reply@example.com"},"children":[{"type":"text","value":"do-not-reply@example.com"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"mailto:dmarc-feedback@example.com"},"children":[{"type":"text","value":"dmarc-feedback@example.com"}]},{"type":"text","value":", and\nany other email addresses used solely for machine generated messages."}]},{"type":"element","tag":"h3","props":{"id":"bounce_spf"},"children":[{"type":"text","value":"bounce_spf"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Parses the message body and any MIME parts for Received: headers and\nstrips out the IP addresses of each Received hop and then checks what\nthe SPF result would have been if bounced message had been sent by that\nhop."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If no 'Pass' result is found, then this test will fail.\nIf SPF returns 'None', 'TempError' or 'PermError' then the test will\nbe skipped."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-970614{color:#B392F0;}\n.ct-970614{color:#6F42C1;}\n.dark .ct-135336{color:#F97583;}\n.ct-135336{color:#D73A49;}\n.dark .ct-948368{color:#E1E4E8;}\n.ct-948368{color:#24292E;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration","depth":2,"text":"Configuration"},{"id":"features","depth":2,"text":"Features","children":[{"id":"reject_all","depth":3,"text":"reject_all"},{"id":"single_recipient","depth":3,"text":"single_recipient"},{"id":"empty_return_path","depth":3,"text":"empty_return_path"},{"id":"bad_rcpt","depth":3,"text":"bad_rcpt"},{"id":"bounce_spf","depth":3,"text":"bounce_spf"}]}]}},"_type":"markdown","_id":"content:8.plugins:bounce.md","_source":"content","_file":"8.plugins/bounce.md","_extension":"md"}